# ミエルボード - プロジェクト開発仕様書

## 1. 概要

### プロジェクト名
**ホワイトボードサイネージ「ミエルボード」**  
*（旧称：WBSスケジュール管理システム）*

### 目的
現場のホワイトボードをデジタル化し、リアルタイムな共有とAI機能により業務効率化を実現。
**Vision**: すべての現場に"ちょうどいい"デジタル化を。

### 対象ユーザー
中小企業オフィス（従業員20〜200名規模）

### 提供価値
- **現場ファースト**: リアルタイムなスケジュール共有
- **使いやすさ主義**: AIによる直感的で手軽な入力・操作性  
- **空気のような存在**: 現場に自然に溶け込むシステム設計
- **アナログを否定しない**: トータルな導入サポートと現場ニーズに即したカスタマイズ性

---

## 2. 現在の実装状況（約80%完成）

### ✅ 完全実装済み機能

#### インフラ・基盤
- Nuxt 3 + Vue 3 + Pinia + PostgreSQL + Prisma ORM
- 外部アクセス対応（ポート3001）
- パフォーマンス最適化実装済み

#### データベース設計
- 組織、部署、役職、ユーザー、スケジュール管理
- デバイス管理、監査ログ
- レベルベース権限システム（1-5段階）

#### 認証・権限システム
- Cookie認証システム
- レベル別権限制御（管理者: レベル5）

#### 管理者機能（90%完成）
- **社員管理** (EmployeeManagement.vue - 733行)
- **部署管理** (DepartmentManagement.vue - 931行)  
- **役職管理** (PositionManagement.vue - 611行)
- **アーカイブ管理** (ArchiveManagement.vue - 760行)
- **ダッシュボード** (Dashboard.vue - 465行)

#### スケジュール機能
- 週間カレンダービュー (WeeklyCalendar.vue - 778行)
- マトリックス表示 (EmployeeScheduleMatrix.vue - 911行)
- スケジュール作成・編集・削除

#### API実装
- 認証、ユーザー、スケジュール、部署、役職、組織管理
- Prisma ORMによるデータベース操作

### 🔄 部分実装済み機能
- 大型タッチパネル対応（基本UI実装済み）
- リアルタイム更新（基盤実装済み、WebSockets削除済み）

### ❌ 未実装機能
- システム設定管理
- データ管理・バックアップ機能

---

## 3. AI活用による独自性強化機能

### 🤖 AIコア機能（MVP版実装範囲）
- **AI音声認識入力**: OpenAI Whisper API（高精度・現場環境対応）
- **自然言語スケジュール入力**: 「明日の10時から会議」等の音声→スケジュール変換
- **履歴閲覧機能**: 直近1ヶ月〜3年間（プランに応じて）

### 🧠 AI拡張機能（段階的実装）
- **AIスケジュール最適化**: 過去データ学習による最適スケジュール提案
- **AIリマインド機能**: 重要スケジュールの適切タイミング自動通知
- **AI会議室最適化**: 利用パターン分析による効率的な会議室割り当て

### 🔗 外部システム連携
- **Googleカレンダー同期**: 既存カレンダーとの双方向連携
- **Office365連携**: Microsoft環境との統合
- **CRM連携**: 顧客管理システムとの連携（プレミアムプラン）

---

## 4. 技術仕様

### 現在の技術スタック
- **フロントエンド**: Nuxt 3 + Vue 3 + Pinia
- **スタイリング**: Tailwind CSS
- **バックエンド**: Nuxt 3 Server API
- **データベース**: PostgreSQL + Prisma ORM
- **認証**: Cookie認証
- **インフラ**: ConoHa VPS

### 追加予定技術
- **AI連携**: OpenAI Whisper API（音声認識）
- **リアルタイム通信**: WebSockets（Socket.io）※将来実装
- **外部API**: Google Calendar API※将来実装

### パフォーマンス最適化済み
- チャンク分割（vendor、adminチャンク）
- 遅延読み込み（defineAsyncComponent）
- Gzip圧縮、静的ファイルキャッシュ
- **改善結果**: 13.21秒 → 3-5秒（初期読み込み時間）

---

## 5. 画面設計・UI構成

### 実装済み画面
1. **ログイン画面** - 管理者認証
2. **管理者ダッシュボード** - 統計情報表示
3. **週間カレンダー** - メインスケジュール管理
4. **マトリックス表示** - 社員別スケジュール一覧
5. **社員管理** - アカウント作成・編集
6. **部署・役職管理** - 組織構造管理

### 追加予定画面
1. **音声入力画面** - AI音声認識対応
2. **履歴表示画面** - 過去スケジュール閲覧
3. **外部連携設定** - Google Calendar等の設定

---

## 6. 開発・運用環境

### 開発環境
- **ディレクトリ**: `/home/wbs/wbs` ※絶対遵守
- **起動コマンド**: `cd /home/wbs/wbs && pnpm run dev`
- **ポート**: 3001
- **外部アクセス**: http://160.251.209.16:3001

### 管理者アカウント
- **ユーザー名**: admin@example.com
- **パスワード**: password
- **権限レベル**: 5（システム管理者）

### データベース統計（現在）
- 組織: 1件
- 部署: 3件
- 役職: 3件
- ユーザー: 4件

---

## 7. 開発優先度とロードマップ

### 現在完了済み（80%）
✅ 基本スケジュール管理システム  
✅ 管理者機能  
✅ パフォーマンス最適化

### 短期計画（Phase 1）
1. **システム設定管理の完成** - 残り20%の完成
2. **データ管理機能の実装**
3. **AI音声入力機能の追加**

### 中期計画（Phase 2）
1. **Google Calendar連携**
2. **履歴機能の強化**
3. **モバイル対応の向上**

### 長期計画（Phase 3）
1. **WebSockets再実装**
2. **高度なAI機能**
3. **企業間連携機能**

---

## 8. 料金プラン・サービス体系

### 💰 エコノミープラン（月額 9,800円）
- **対象**: 最大20名まで
- **機能**:
  - 基本ソフトウェア利用
  - リアルタイム更新・履歴閲覧（直近1ヶ月）
  - AI音声入力（利用制限あり：月間100回まで）
  - メールサポート
- **適用場面**: 小規模オフィス、試験導入

### 💼 スタンダードプラン（月額 19,800円）
- **対象**: 最大50名まで
- **機能**:
  - 全ソフトウェア機能利用
  - AI音声認識（月間500回まで）
  - リアルタイム更新・履歴閲覧（直近1年間）
  - Googleカレンダー・Office365連携
  - 専門スタッフによる初回設置・設定サポート
  - 電話・メールサポート
- **適用場面**: 中規模企業、本格運用開始

### 🏆 プレミアムプラン（月額 39,800円）
- **対象**: 最大200名まで（200名超は個別見積もり）
- **機能**:
  - AI全機能フル活用（音声認識・スケジュール提案・リマインド）
  - 全履歴保存（最大3年間、以降は追加オプション）
  - 多システム連携（Googleカレンダー、Office365、CRM等）
  - 専門スタッフによるハードウェア設置・配線工事
  - 継続的訪問サポート・優先電話サポート
  - 定期訪問コンサルティング（年4回）
- **適用場面**: 大規模企業、複数拠点運用

### 📈 差別化ポイント
- **AIを活用した高い操作性**: 音声入力からスケジュール最適化まで
- **ハードウェア設置・運用までトータルサポート**: 専門スタッフによる包括支援
- **現場ニーズに即した柔軟なカスタマイズ性**: 企業の運用に合わせた調整

---

## 9. MVV（現場ファースト設計指針）

### Vision
> **すべての現場に、"ちょうどいい"デジタル化を。**

### Mission  
> **現場の"困った"を見逃さず、使いたくなるスケジュール管理を形にする。**

### Value
- **現場ファースト**: 現場の声を最優先
- **使いやすさ主義**: シンプルで直感的な操作
- **空気のような存在**: 自然に現場に溶け込む
- **困ったの裏に宝がある**: 小さな課題から本質を見つける
- **アナログを否定しない**: 既存の良さを尊重して進化

---

## 10. 成功指標

### 技術指標
- ✅ サーバー稼働率: 99.9%以上
- ✅ 初期読み込み時間: 5秒以内
- 🔄 API応答時間: 200ms以内

### 現場指標
- 🎯 継続利用率: 90%以上
- 🎯 操作習得時間: 30分以内
- 🎯 ホワイトボードからの完全移行

---

*プロジェクト開始: 2024年6月*  
*仕様書作成: 2025年7月2日*  
*最終更新: 2025年7月2日* 