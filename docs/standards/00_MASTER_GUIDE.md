# AI開発フレームワーク マスターガイド

> Version: 3.0
> Last Updated: 2026-02-05
> Source: ai-dev-framework

---

## 1. フレームワーク概要

AI開発フレームワークは、AIエージェント（Claude Code, Cursor等）と人間が協調して
ソフトウェアを開発するための標準規約集である。

### 1.1 設計思想

| 原則 | 説明 |
|------|------|
| **SSOT** | Single Source of Truth - 仕様は1箇所に集約 |
| **3層構造** | Core → Contract → Detail の階層で管理 |
| **Freeze単位** | 段階的に仕様を確定（Freeze 1-4） |
| **止まらないルール** | DETAIL層はデフォルトで進む |
| **縦スライス** | ユーザー価値単位で実装 |

### 1.2 対象プロジェクト

- Webアプリケーション（SPA/SSR）
- モバイルアプリ
- CLI ツール
- ライブラリ

---

## 2. SSOT 3層構造

```
┌─────────────────────────────────────────────┐
│  [CORE] 層 - Freeze 1-2                     │
│  ─────────────────────────────────────────  │
│  • SSOT-0: PRD（プロダクト要件定義）        │
│  • SSOT-1: 機能台帳（Feature Catalog）      │
│                                             │
│  → 変更には PO 承認必須                     │
│  → AI は勝手に変更してはならない            │
├─────────────────────────────────────────────┤
│  [CONTRACT] 層 - Freeze 3                   │
│  ─────────────────────────────────────────  │
│  • SSOT-2: UI/状態遷移                      │
│  • SSOT-3: API契約                          │
│  • SSOT-4: データモデル                     │
│  • SSOT-5: 横断的関心事                     │
│                                             │
│  → 変更にはテックリード承認必須             │
│  → インターフェース変更は影響範囲を確認     │
├─────────────────────────────────────────────┤
│  [DETAIL] 層 - Freeze 4                     │
│  ─────────────────────────────────────────  │
│  • 個別機能仕様（12セクション形式）         │
│  • 実装詳細、テストケース                   │
│                                             │
│  → 止まらないルール適用                     │
│  → TBD でも進行可、後で埋める               │
└─────────────────────────────────────────────┘
```

---

## 3. Freeze レベル

| Level | 対象 | 変更ルール | 承認者 |
|-------|------|-----------|--------|
| **Freeze 1** | ビジョン・ゴール | 変更禁止（例外: ピボット） | CEO/PO |
| **Freeze 2** | 機能スコープ | 要PO承認、影響分析必須 | PO |
| **Freeze 3** | インターフェース契約 | 要テックリード承認 | Tech Lead |
| **Freeze 4** | 実装詳細 | AI判断可、事後報告 | - |

---

## 4. 止まらないルール

DETAIL層（Freeze 4）では以下のルールが適用される：

### 4.1 デフォルト進行

```
IF 仕様に明記なし AND 技術的に妥当な選択肢が1つ THEN
  → その選択肢で進む
  → 実装後にSSOTを更新

IF 仕様に明記なし AND 選択肢が複数 THEN
  → エスカレーション（21_AI_ESCALATION.md 参照）
```

### 4.2 TBD の扱い

- DETAIL層の TBD は実装時に解決してよい
- 解決後、SSOTを更新する
- CONTRACT層以上の TBD はエスカレーション必須

---

## 5. 縦スライス開発

### 5.1 原則

- 機能は「ユーザー価値」単位で実装
- UI → API → DB を一気通貫で作る
- 横断的な共通化は後回し

### 5.2 スライス例

```
良い例: 「ユーザーがスケジュールを登録できる」
  → ScheduleForm.vue + POST /api/schedules + Schedule テーブル

悪い例: 「全APIのエラーハンドリングを統一」
  → 横断的すぎる、個別機能と一緒にやる
```

---

## 6. ドキュメント構成

```
docs/
├── standards/                    ← フレームワーク標準（本ディレクトリ）
│   ├── 00_MASTER_GUIDE.md       ← 本ファイル
│   ├── 12_SSOT_FORMAT.md        ← SSOT 12セクション形式
│   └── 21_AI_ESCALATION.md      ← AIエスカレーション規約
├── ssot/                         ← [CORE] 層
│   ├── SSOT-0_PRD.md
│   └── SSOT-1_FEATURE_CATALOG.md
├── core/                         ← [CONTRACT] 層
│   ├── SSOT-2_UI_STATE.md
│   ├── SSOT-3_API_CONTRACT.md
│   ├── SSOT-4_DATA_MODEL.md
│   └── SSOT-5_CROSS_CUTTING.md
├── features/                     ← [DETAIL] 層（12セクション形式）
│   ├── FEAT-001_*.md
│   └── ...
└── knowledge/                    ← 参考情報
    ├── domain/
    └── market/
```

---

## 7. 品質基準

### 7.1 SSOT 監査スコア

| スコア | 判定 | 対応 |
|--------|------|------|
| 95-100 | Pass | 問題なし |
| 90-94 | Conditional Pass | 軽微な修正推奨 |
| 80-89 | Needs Work | 修正必須 |
| <80 | Fail | 大幅な見直し |

### 7.2 10カテゴリ評価

1. 完全性 (Completeness)
2. 一貫性 (Consistency)
3. 明確性 (Clarity)
4. 検証可能性 (Verifiability)
5. 追跡可能性 (Traceability)
6. 実現可能性 (Feasibility)
7. RFC 2119 準拠
8. テストカバレッジ
9. 整合性 (Integrity)
10. 文書品質 (Document Quality)

---

## 8. 関連ドキュメント

- [12_SSOT_FORMAT.md](./12_SSOT_FORMAT.md) - SSOT 12セクション形式
- [21_AI_ESCALATION.md](./21_AI_ESCALATION.md) - AIエスカレーション規約
- [CLAUDE.md](../../CLAUDE.md) - プロジェクト固有の指示

---

## 変更履歴

| 日付 | バージョン | 変更内容 |
|------|-----------|----------|
| 2026-02-05 | 3.0 | WBS プロジェクトへ導入 |
