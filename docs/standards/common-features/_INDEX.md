# 共通機能インデックス（Common Features Index）

> 95%のプロジェクトで再利用可能な「完成済み仕様書」の一覧

---

## 使い方

### Step 1: 必要な機能を選択

下記の一覧から、プロジェクトに必要な機能にチェック

### Step 2: コピーして配置

```bash
# 例: ログイン機能を使用する場合
cp docs/common-features/auth/AUTH-001_login.md docs/project-features/
```

### Step 3: カスタマイズ

各仕様書の「🔧 カスタマイズポイント」セクションを確認し、必要な箇所を変更

### Step 4: SSOT-1に登録

`ssot/SSOT-1_FEATURE_CATALOG.md` に選択した機能を登録

---

## 機能選択チェックリスト

### 認証・認可（AUTH）

| 選択 | 機能ID | 機能名 | カスタマイズ | 依存 | 説明 |
|------|--------|-------|-------------|------|------|
| ☐ | AUTH-001 | ログイン | 低 | - | メール/パスワード認証 |
| ☐ | AUTH-002 | OAuth（Google） | 低 | AUTH-001 | Googleアカウントでログイン |
| ☐ | AUTH-003 | OAuth（GitHub） | 低 | AUTH-001 | GitHubアカウントでログイン |
| ☐ | AUTH-005 | ログアウト | ほぼなし | AUTH-001 | セッション終了 |
| ☐ | AUTH-006 | パスワードリセット | 低 | AUTH-001 | パスワード再設定 |
| ☐ | AUTH-007 | メール認証 | 低 | ACCT-001 | サインアップ時のメール確認 |
| ☐ | AUTH-009 | セッション管理 | 低 | AUTH-001 | セッション一覧・無効化 |
| ☐ | AUTH-010 | セッション更新 | ほぼなし | AUTH-001 | トークンリフレッシュ |

**推奨セット**:
- 最小構成: AUTH-001, AUTH-005, AUTH-010
- 標準構成: 上記 + AUTH-006, AUTH-007
- フル構成: 上記 + AUTH-002, AUTH-003, AUTH-009

---

### アカウント（ACCT）

| 選択 | 機能ID | 機能名 | カスタマイズ | 依存 | 説明 |
|------|--------|-------|-------------|------|------|
| ☐ | ACCT-001 | サインアップ | 中 | - | ユーザー登録 |
| ☐ | ACCT-002 | プロフィール表示 | 中 | AUTH-001 | プロフィール閲覧 |
| ☐ | ACCT-003 | プロフィール編集 | 中 | ACCT-002 | プロフィール更新 |
| ☐ | ACCT-004 | メールアドレス変更 | 低 | AUTH-001 | メール変更（再認証付き） |
| ☐ | ACCT-005 | パスワード変更 | 低 | AUTH-001 | パスワード変更（現パスワード確認付き） |
| ☐ | ACCT-006 | アカウント削除 | 低 | AUTH-001 | 退会処理 |

**推奨セット**:
- 最小構成: ACCT-001
- 標準構成: 上記 + ACCT-002, ACCT-003, ACCT-005
- フル構成: 上記 + ACCT-004, ACCT-006

---

### エラーページ（ERR）

| 選択 | 機能ID | 機能名 | カスタマイズ | 依存 | 説明 |
|------|--------|-------|-------------|------|------|
| ☐ | ERR-001 | 404ページ | 低 | - | ページが見つからない |
| ☐ | ERR-002 | 403ページ | 低 | - | アクセス権限なし |
| ☐ | ERR-003 | 500ページ | 低 | - | サーバーエラー |
| ☐ | ERR-004 | メンテナンスページ | 低 | - | メンテナンス中 |

**推奨**: 全て選択（必須）

---

### 通知（NOTIF）

| 選択 | 機能ID | 機能名 | カスタマイズ | 依存 | 説明 |
|------|--------|-------|-------------|------|------|
| ☐ | NOTIF-001 | メール送信基盤 | 中 | - | トランザクションメール |
| ☐ | NOTIF-002 | トースト通知 | 低 | - | アプリ内通知（一時的） |
| ☐ | NOTIF-003 | 通知センター | 中 | AUTH-001 | アプリ内通知（永続的） |

---

## 仕様書一覧

### 認証・認可

| ファイル | 状態 | 説明 |
|---------|------|------|
| [AUTH-001_login.md](./auth/AUTH-001_login.md) | ✅ 完成 | メール/パスワードログイン |
| [AUTH-002_oauth_google.md](./auth/AUTH-002_oauth_google.md) | ✅ 完成 | Google OAuth |
| [AUTH-005_logout.md](./auth/AUTH-005_logout.md) | ✅ 完成 | ログアウト |
| [AUTH-006_password_reset.md](./auth/AUTH-006_password_reset.md) | ✅ 完成 | パスワードリセット |
| [AUTH-010_session_refresh.md](./auth/AUTH-010_session_refresh.md) | ✅ 完成 | セッション更新 |

### アカウント

| ファイル | 状態 | 説明 |
|---------|------|------|
| [ACCT-001_signup.md](./account/ACCT-001_signup.md) | ✅ 完成 | サインアップ |
| [ACCT-003_profile_edit.md](./account/ACCT-003_profile_edit.md) | ✅ 完成 | プロフィール編集 |

### エラーページ

| ファイル | 状態 | 説明 |
|---------|------|------|
| [ERR-001_404.md](./error/ERR-001_404.md) | ✅ 完成 | 404ページ |
| [ERR-002_403.md](./error/ERR-002_403.md) | ✅ 完成 | 403ページ |
| [ERR-003_500.md](./error/ERR-003_500.md) | ✅ 完成 | 500ページ |

---

## カスタマイズレベルの目安

### 低（Low）- 1-2時間

変更箇所:
- UIテキスト（ボタンラベル、エラーメッセージ）
- ブランドカラー
- ロゴ

変更しない箇所:
- ビジネスロジック
- API仕様
- データモデル

### 中（Medium）- 半日

変更箇所:
- フィールドの追加/削除（例: プロフィールに電話番号追加）
- 軽微なビジネスルール変更
- 追加のバリデーション

変更しない箇所:
- 認証フローの根本的な変更
- API構造の大幅な変更

### 高（High）- 1日以上

変更箇所:
- 認証方式の変更（例: 電話番号認証追加）
- 大幅なビジネスルール変更
- データモデルの構造変更

→ この場合は共通機能を使わず、テンプレートから新規作成を検討

---

## 選択結果の記録

選択した機能を `ssot/SSOT-1_FEATURE_CATALOG.md` に転記:

```markdown
## 選択した共通機能

| 機能ID | 機能名 | 種別 | カスタマイズ | 状態 |
|--------|-------|------|-------------|------|
| AUTH-001 | ログイン | 共通 | UIテキストのみ | Ready |
| AUTH-005 | ログアウト | 共通 | なし | Ready |
| ACCT-001 | サインアップ | 共通 | 電話番号フィールド追加 | カスタマイズ中 |
```

---

## 次のステップ

1. 上記チェックリストで必要な機能を選択
2. 選択した仕様書を `project-features/` にコピー
3. 各仕様書の「🔧 カスタマイズポイント」を確認・変更
4. `CUSTOMIZATION_LOG.md` に変更内容を記録
5. `SSOT-1_FEATURE_CATALOG.md` に登録
