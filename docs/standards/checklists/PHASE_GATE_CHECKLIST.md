# PHASE_GATE_CHECKLIST.md - フェーズゲート

> 各フェーズの完了条件と品質ゲート

---

## 概要

```
Phase 0 → [Gate 0] → Phase 1 → [Gate 1] → Phase 2 → [Gate 2] → Phase 3 → [Gate 3] → Phase 4 → [Gate 4] → Phase 5
要件定義    PRD承認    機能設計    仕様承認    技術設計    技術承認     実装     テスト通過   レビュー    マージ承認    リリース
```

**ゲートを通過しないと次のフェーズに進めない**

---

## Gate 0: 要件定義完了

### 必須条件

| # | 条件 | 確認 | 確認者 |
|---|------|------|-------|
| 0.1 | SSOT-0（PRD）の全セクションが埋まっている | ☐ | |
| 0.2 | プロダクト概要が1文で説明できる | ☐ | |
| 0.3 | 対象ユーザーが明確に定義されている | ☐ | |
| 0.4 | ユースケースが列挙されている | ☐ | |
| 0.5 | Goals / Non-Goals が明確に分離されている | ☐ | |
| 0.6 | 成功指標（KPI）が定義されている | ☐ | |
| 0.7 | 制約条件が明記されている | ☐ | |
| 0.8 | SSOT-1でP0機能が特定されている（5〜15個程度） | ☐ | |
| 0.9 | ステークホルダーの承認を得た | ☐ | |

### 成果物チェック

| 成果物 | 完成 | レビュー済 |
|--------|------|----------|
| ssot/SSOT-0_PRD.md | ☐ | ☐ |
| ssot/SSOT-1_FEATURE_CATALOG.md（初版） | ☐ | ☐ |

### 承認

| 役割 | 名前 | 日付 | 承認 |
|------|------|------|------|
| プロダクトオーナー | | | ☐ |
| ステークホルダー | | | ☐ |

---

## Gate 1: 機能設計完了

### 必須条件

| # | 条件 | 確認 | 確認者 |
|---|------|------|-------|
| 1.1 | 対象機能の features/*.md が作成されている | ☐ | |
| 1.2 | 全ての features/*.md が L3 レベルに達している | ☐ | |
| 1.3 | 受入条件が全て検証可能（テスト可能）である | ☐ | |
| 1.4 | 正常系の受入条件がある | ☐ | |
| 1.5 | 異常系の受入条件がある | ☐ | |
| 1.6 | エッジケースが網羅されている | ☐ | |
| 1.7 | UI仕様（画面レイアウト、要素詳細）が定義されている | ☐ | |
| 1.8 | 状態遷移が定義されている | ☐ | |
| 1.9 | SSOT-2 が更新されている（新規画面がある場合） | ☐ | |
| 1.10 | 設計レビューを通過した | ☐ | |

### L3レベル判定基準

| セクション | 必須 | 確認 |
|-----------|------|------|
| 1. 概要 | ✅ | ☐ |
| 2. 受入条件（正常系・異常系・エッジケース） | ✅ | ☐ |
| 3. UI仕様（レイアウト・要素詳細・状態別表示） | ✅ | ☐ |
| 4. 状態遷移 | ✅ | ☐ |
| 5. API仕様（リクエスト・レスポンス・エラー） | ✅ | ☐ |
| 6. データモデル | ✅ | ☐ |
| 7. ビジネスロジック | ✅ | ☐ |
| 8. エラーハンドリング | ✅ | ☐ |
| 9. テスト仕様 | ✅ | ☐ |
| 10. 非機能要件 | ⚪ 任意 | ☐ |
| 11. 依存関係 | ✅ | ☐ |
| 12. 実装メモ | ⚪ 任意 | ☐ |

### 成果物チェック

| 成果物 | 完成 | レビュー済 |
|--------|------|----------|
| features/{ID}_xxx.md（対象機能全て） | ☐ | ☐ |
| ssot/SSOT-2_UI_STATE.md（更新） | ☐ | ☐ |

### 承認

| 役割 | 名前 | 日付 | 承認 |
|------|------|------|------|
| 設計者 | | | ☐ |
| テックリード | | | ☐ |
| プロダクトオーナー | | | ☐ |

---

## Gate 2: 技術設計完了

### 必須条件

| # | 条件 | 確認 | 確認者 |
|---|------|------|-------|
| 2.1 | 全APIエンドポイントがSSOT-3に定義されている | ☐ | |
| 2.2 | 全テーブル/カラムがSSOT-4に定義されている | ☐ | |
| 2.3 | マイグレーション計画がある | ☐ | |
| 2.4 | SSOT-5（横断的関心事）が確定している | ☐ | |
| 2.5 | 重要な技術判断がADRに記録されている | ☐ | |
| 2.6 | 技術レビューを通過した | ☐ | |

### 成果物チェック

| 成果物 | 完成 | レビュー済 |
|--------|------|----------|
| ssot/SSOT-3_API_CONTRACT.md（更新） | ☐ | ☐ |
| ssot/SSOT-4_DATA_MODEL.md（更新） | ☐ | ☐ |
| ssot/SSOT-5_CROSS_CUTTING.md（確定） | ☐ | ☐ |
| adr/*.md（必要に応じて） | ☐ | ☐ |

### 承認

| 役割 | 名前 | 日付 | 承認 |
|------|------|------|------|
| テックリード | | | ☐ |

---

## Gate 3: 実装完了

### 必須条件

| # | 条件 | 確認 | 確認者 |
|---|------|------|-------|
| 3.1 | features/*.md の全受入条件を満たしている | ☐ | |
| 3.2 | ユニットテストが通過している | ☐ | |
| 3.3 | 統合テストが通過している | ☐ | |
| 3.4 | テストカバレッジが基準を満たしている | ☐ | |
| 3.5 | コードがコーディング規約に準拠している | ☐ | |
| 3.6 | Lint/静的解析が通過している | ☐ | |
| 3.7 | セキュリティチェックが通過している | ☐ | |
| 3.8 | 型チェックが通過している（該当する場合） | ☐ | |

### テスト結果

| テスト種別 | 結果 | カバレッジ |
|-----------|------|----------|
| ユニットテスト | Pass / Fail | __% |
| 統合テスト | Pass / Fail | - |
| E2Eテスト | Pass / Fail | - |

### 成果物チェック

| 成果物 | 完成 |
|--------|------|
| src/（ソースコード） | ☐ |
| tests/unit/（ユニットテスト） | ☐ |
| tests/integration/（統合テスト） | ☐ |
| migrations/（マイグレーション） | ☐ |

### 承認

| 役割 | 名前 | 日付 | 承認 |
|------|------|------|------|
| 開発者 | | | ☐ |

---

## Gate 4: レビュー完了

### 必須条件

| # | 条件 | 確認 | 確認者 |
|---|------|------|-------|
| 4.1 | コードレビュー承認 | ☐ | |
| 4.2 | [must] コメントが全て対応済み | ☐ | |
| 4.3 | features/*.md の全受入条件が検証済み | ☐ | |
| 4.4 | エッジケースの動作確認完了 | ☐ | |
| 4.5 | セキュリティレビュー通過 | ☐ | |
| 4.6 | SSOTと実装の整合性確認済み | ☐ | |
| 4.7 | ドキュメントが最新状態（差分があれば更新） | ☐ | |

### レビュー結果

| レビュー種別 | レビュアー | 結果 |
|-------------|----------|------|
| コードレビュー | | Approved / Changes Requested |
| セキュリティレビュー | | Pass / Fail |
| 受入テスト | | Pass / Fail |

### 承認

| 役割 | 名前 | 日付 | 承認 |
|------|------|------|------|
| レビュアー | | | ☐ |
| テックリード | | | ☐ |
| プロダクトオーナー | | | ☐ |

---

## Gate 5: リリース完了

### 必須条件

| # | 条件 | 確認 | 確認者 |
|---|------|------|-------|
| 5.1 | ステージング環境でのテスト通過 | ☐ | |
| 5.2 | 本番デプロイ完了 | ☐ | |
| 5.3 | スモークテスト通過 | ☐ | |
| 5.4 | 異常なエラーが発生していない（15分監視） | ☐ | |
| 5.5 | リリースノート作成/公開 | ☐ | |
| 5.6 | 関係者への通知完了 | ☐ | |

### デプロイ情報

| 項目 | 内容 |
|------|------|
| バージョン | |
| デプロイ日時 | |
| デプロイ担当 | |
| ロールバック手順 | |

### 承認

| 役割 | 名前 | 日付 | 承認 |
|------|------|------|------|
| テックリード | | | ☐ |
| プロダクトオーナー | | | ☐ |

---

## ゲート通過記録

| 機能ID | 機能名 | Gate 0 | Gate 1 | Gate 2 | Gate 3 | Gate 4 | Gate 5 |
|--------|-------|--------|--------|--------|--------|--------|--------|
| | | ☐ | ☐ | ☐ | ☐ | ☐ | ☐ |
| | | ☐ | ☐ | ☐ | ☐ | ☐ | ☐ |
| | | ☐ | ☐ | ☐ | ☐ | ☐ | ☐ |

---

## 変更履歴

| 日付 | 変更内容 | 変更者 |
|------|---------|-------|
| | 初版作成 | |
