# レビューチェックリスト

> 設計レビュー・コードレビュー時の観点一覧

---

## 1. 設計レビューチェックリスト

### 1.1 要件との整合性

| # | 観点 | 確認 | 備考 |
|---|------|------|------|
| 1 | PRDの要件を満たしているか | ☐ | |
| 2 | ユーザーストーリーが実現できるか | ☐ | |
| 3 | 受入条件がすべて検証可能か | ☐ | |
| 4 | スコープ（Goals/Non-Goals）が明確か | ☐ | |

### 1.2 アーキテクチャ

| # | 観点 | 確認 | 備考 |
|---|------|------|------|
| 1 | 既存アーキテクチャとの整合性 | ☐ | |
| 2 | 責務の分離が適切か | ☐ | |
| 3 | 依存関係が適切か | ☐ | |
| 4 | スケーラビリティへの考慮 | ☐ | |
| 5 | 将来の拡張性への考慮 | ☐ | |

### 1.3 API設計

| # | 観点 | 確認 | 備考 |
|---|------|------|------|
| 1 | RESTful原則に従っているか | ☐ | |
| 2 | 命名規則が統一されているか | ☐ | |
| 3 | リクエスト/レスポンス形式が明確か | ☐ | |
| 4 | エラーケースが網羅されているか | ☐ | |
| 5 | 認証・認可が適切に設計されているか | ☐ | |
| 6 | バージョニング戦略が明確か | ☐ | |

### 1.4 データモデル

| # | 観点 | 確認 | 備考 |
|---|------|------|------|
| 1 | 正規化が適切か | ☐ | |
| 2 | 主キー・外部キーが適切か | ☐ | |
| 3 | インデックス設計が適切か | ☐ | |
| 4 | 論理削除の方針が明確か | ☐ | |
| 5 | マイグレーション戦略が明確か | ☐ | |

### 1.5 セキュリティ

| # | 観点 | 確認 | 備考 |
|---|------|------|------|
| 1 | 認証方式が適切か | ☐ | |
| 2 | 認可（権限）チェックが適切か | ☐ | |
| 3 | 入力バリデーションが十分か | ☐ | |
| 4 | 機密データの取り扱いが適切か | ☐ | |
| 5 | SQLインジェクション対策 | ☐ | |
| 6 | XSS対策 | ☐ | |
| 7 | CSRF対策 | ☐ | |

### 1.6 エラーハンドリング

| # | 観点 | 確認 | 備考 |
|---|------|------|------|
| 1 | エラーケースが網羅されているか | ☐ | |
| 2 | ユーザーへのエラーメッセージが適切か | ☐ | |
| 3 | ログ出力が適切か | ☐ | |
| 4 | リトライ戦略が明確か（該当する場合） | ☐ | |

---

## 2. コードレビューチェックリスト

### 2.1 一般

| # | 観点 | 確認 | 備考 |
|---|------|------|------|
| 1 | 設計ドキュメントと一致しているか | ☐ | |
| 2 | コーディング規約に従っているか | ☐ | |
| 3 | 命名が適切か（意味がわかる、一貫性がある） | ☐ | |
| 4 | コメントが適切か（過不足ない） | ☐ | |
| 5 | 不要なコードが残っていないか | ☐ | |
| 6 | ハードコードされた値がないか | ☐ | |

### 2.2 ロジック

| # | 観点 | 確認 | 備考 |
|---|------|------|------|
| 1 | ロジックが正しいか | ☐ | |
| 2 | エッジケースが考慮されているか | ☐ | |
| 3 | null/undefined チェックが適切か | ☐ | |
| 4 | エラーハンドリングが適切か | ☐ | |
| 5 | 非同期処理が適切か（race condition等） | ☐ | |

### 2.3 パフォーマンス

| # | 観点 | 確認 | 備考 |
|---|------|------|------|
| 1 | N+1問題がないか | ☐ | |
| 2 | 不要なループ/再計算がないか | ☐ | |
| 3 | メモリリークの可能性がないか | ☐ | |
| 4 | 適切なキャッシュ戦略か | ☐ | |

### 2.4 セキュリティ

| # | 観点 | 確認 | 備考 |
|---|------|------|------|
| 1 | 入力値が適切にバリデーションされているか | ☐ | |
| 2 | 出力値が適切にエスケープされているか | ☐ | |
| 3 | 認証・認可チェックが漏れていないか | ☐ | |
| 4 | 機密情報がログに出力されていないか | ☐ | |
| 5 | SQLインジェクション対策されているか | ☐ | |

### 2.5 テスト

| # | 観点 | 確認 | 備考 |
|---|------|------|------|
| 1 | ユニットテストが書かれているか | ☐ | |
| 2 | テストカバレッジが十分か | ☐ | |
| 3 | エッジケースのテストがあるか | ☐ | |
| 4 | テストが独立して実行可能か | ☐ | |
| 5 | モックの使い方が適切か | ☐ | |

---

## 3. PR/MRレビュー時のコミュニケーション

### 3.1 レビューコメントの種類

| プレフィックス | 意味 | 対応 |
|--------------|------|------|
| `[must]` | 修正必須 | マージ前に対応必要 |
| `[should]` | 強く推奨 | 対応推奨、理由があればスキップ可 |
| `[nit]` | 細かい指摘 | 対応は任意 |
| `[question]` | 質問 | 回答のみでOK |
| `[praise]` | 称賛 | 対応不要 |

### 3.2 良いレビューコメントの例

```
[must] この入力値はバリデーションが必要です。
SQLインジェクションのリスクがあります。
参考: https://...

---

[should] この処理は関数に切り出した方が
テストしやすくなると思います。

---

[nit] 変数名は `userData` より `user` の方が
コードベースと一貫性があります。

---

[question] ここで非同期処理を使っている理由を
教えていただけますか？

---

[praise] このエラーハンドリングの設計、
とても分かりやすいです！
```

---

## 4. レビュー完了チェック

### レビュアー用

- [ ] すべてのファイルを確認した
- [ ] 設計ドキュメントと照合した
- [ ] セキュリティ観点を確認した
- [ ] テストを確認した
- [ ] [must] コメントの対応を確認した

### 作成者用

- [ ] すべてのコメントに対応/回答した
- [ ] [must] コメントを修正した
- [ ] 修正後の再レビューを依頼した

---

## 変更履歴

| 日付 | 変更内容 | 変更者 |
|------|---------|-------|
| | 初版作成 | |
