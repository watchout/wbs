# CUSTOMIZATION_LOG.md - カスタマイズ記録

> 共通機能（Layer 2）への変更を記録し、追跡可能にする

---

## 目的

1. **変更の追跡**: 何を、いつ、なぜ変更したかを記録
2. **フレームワーク更新時の対応**: 元の共通機能が更新された際、カスタマイズを再適用
3. **チーム共有**: カスタマイズ内容をチームで共有

---

## 記録ルール

### 記録が必要な変更

- 共通機能のフィールド追加/削除
- バリデーションルールの変更
- ビジネスロジックの変更
- UIレイアウトの大幅な変更

### 記録不要な変更

- UIテキスト（ボタンラベル、エラーメッセージ）の変更
- ブランドカラーの変更
- ロゴの差し替え

---

## カスタマイズ一覧

### AUTH-001: ログイン

| 日付 | セクション | 変更内容 | 理由 | 変更者 |
|------|-----------|---------|------|-------|
| | | カスタマイズなし | - | - |

---

### AUTH-005: ログアウト

| 日付 | セクション | 変更内容 | 理由 | 変更者 |
|------|-----------|---------|------|-------|
| | | カスタマイズなし | - | - |

---

### ACCT-001: サインアップ

| 日付 | セクション | 変更内容 | 理由 | 変更者 |
|------|-----------|---------|------|-------|
| YYYY-MM-DD | 3.3 UI要素 | 電話番号フィールド追加（任意） | 顧客連絡用 | |
| YYYY-MM-DD | 5.2 リクエスト | phone フィールド追加 | 上記に対応 | |
| YYYY-MM-DD | 6.2 データモデル | users.phone カラム追加 | 上記に対応 | |

**変更差分**:

```diff
# 3.3 UI要素詳細
  | 名前 | input[type=text] | 必須、1-100文字 | |
  | メールアドレス | input[type=email] | 必須、メール形式 | |
+ | 電話番号 | input[type=tel] | 任意、E.164形式 | 例: +819012345678 |
  | パスワード | input[type=password] | 必須、8文字以上 | |

# 5.2 リクエスト
  {
    "name": "山田 太郎",
    "email": "user@example.com",
+   "phone": "+819012345678",
    "password": "password123",
    ...
  }

# 6.2 usersテーブル
  | name | VARCHAR(100) | NO | - | 名前 |
  | email | VARCHAR(255) | NO | - | メールアドレス |
+ | phone | VARCHAR(20) | YES | NULL | 電話番号 |
```

---

### （テンプレート）機能ID: 機能名

| 日付 | セクション | 変更内容 | 理由 | 変更者 |
|------|-----------|---------|------|-------|
| YYYY-MM-DD | X.X | | | |

**変更差分**:

```diff
# セクション名
- 元の内容
+ 変更後の内容
```

---

## カスタマイズ影響マトリクス

カスタマイズが他の機能に与える影響を記録:

| カスタマイズ | 影響を受ける機能 | 対応状況 |
|------------|----------------|---------|
| ACCT-001に電話番号追加 | ACCT-002（プロフィール表示） | ☐ 要対応 |
| ACCT-001に電話番号追加 | ACCT-003（プロフィール編集） | ☐ 要対応 |

---

## フレームワーク更新時の手順

共通機能（common-features/）が更新された場合:

```
1. 更新内容を確認
2. このログのカスタマイズ一覧を確認
3. 各機能について:
   a. カスタマイズなし → 新しいバージョンをそのまま使用
   b. カスタマイズあり → 差分を新バージョンに再適用
4. このログを更新
```

---

## 変更履歴

| 日付 | 変更内容 | 変更者 |
|------|---------|-------|
| | 初版作成 | |
