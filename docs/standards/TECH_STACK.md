# TECH_STACK.md - 技術スタック定義書

> プロジェクトで使用する技術の選定と理由を記録

---

## 基本情報

| 項目 | 内容 |
|------|------|
| プロジェクト名 | |
| 作成日 | YYYY-MM-DD |
| 最終更新日 | YYYY-MM-DD |
| 作成者 | |
| 承認者 | |

---

## 1. 言語

| 項目 | 選定 | バージョン | 選定理由 |
|------|------|-----------|---------|
| メイン言語 | | | |
| 型システム | | | |

**選択肢の例**:
- TypeScript 5.x（型安全性、IDE支援）
- Python 3.11+（AI/ML連携、生産性）
- Go 1.21+（パフォーマンス、並行処理）

---

## 2. フロントエンド

| 項目 | 選定 | バージョン | 選定理由 |
|------|------|-----------|---------|
| フレームワーク | | | |
| 状態管理 | | | |
| スタイリング | | | |
| UIコンポーネント | | | |
| フォーム管理 | | | |
| HTTPクライアント | | | |

**選択肢の例**:
- フレームワーク: Next.js 14 / React 18 / Vue 3 / Nuxt 3
- 状態管理: Zustand / Redux Toolkit / Jotai / Pinia
- スタイリング: Tailwind CSS / CSS Modules / styled-components
- UIコンポーネント: shadcn/ui / MUI / Chakra UI / Radix
- フォーム: React Hook Form / Formik
- HTTP: fetch / axios / ky

---

## 3. バックエンド

| 項目 | 選定 | バージョン | 選定理由 |
|------|------|-----------|---------|
| フレームワーク | | | |
| APIスタイル | | | |
| バリデーション | | | |

**選択肢の例**:
- フレームワーク: Next.js API Routes / Express / Fastify / NestJS / FastAPI / Django
- APIスタイル: REST / GraphQL / tRPC
- バリデーション: Zod / Yup / class-validator / Pydantic

---

## 4. データベース

| 項目 | 選定 | バージョン | 選定理由 |
|------|------|-----------|---------|
| メインDB | | | |
| ORM/クエリビルダ | | | |
| マイグレーション | | | |
| キャッシュ | | | |

**選択肢の例**:
- DB: PostgreSQL 15 / MySQL 8 / MongoDB 7
- ORM: Prisma / Drizzle / TypeORM / SQLAlchemy
- キャッシュ: Redis / Memcached

---

## 5. 認証・認可

| 項目 | 選定 | バージョン | 選定理由 |
|------|------|-----------|---------|
| 認証方式 | | | |
| ライブラリ | | | |
| OAuth プロバイダ | | | |

**選択肢の例**:
- 方式: JWT / Session
- ライブラリ: NextAuth.js / Auth.js / Passport / Lucia
- OAuth: Google / GitHub / Apple

---

## 6. インフラ・ホスティング

| 項目 | 選定 | 選定理由 |
|------|------|---------|
| ホスティング | | |
| データベース | | |
| ファイルストレージ | | |
| CDN | | |

**選択肢の例**:
- ホスティング: Vercel / Cloudflare / AWS / GCP / Azure
- DB: Supabase / PlanetScale / Neon / AWS RDS
- ストレージ: S3 / Cloudflare R2 / GCS
- CDN: Cloudflare / CloudFront

---

## 7. 開発ツール

| 項目 | 選定 | バージョン | 選定理由 |
|------|------|-----------|---------|
| パッケージマネージャ | | | |
| ビルドツール | | | |
| リンター | | | |
| フォーマッター | | | |
| テストフレームワーク | | | |
| E2Eテスト | | | |

**選択肢の例**:
- パッケージ: pnpm / npm / yarn / bun
- ビルド: Vite / Turbopack / esbuild
- リンター: ESLint / Biome
- フォーマッター: Prettier / Biome
- テスト: Vitest / Jest
- E2E: Playwright / Cypress

---

## 8. CI/CD

| 項目 | 選定 | 選定理由 |
|------|------|---------|
| CIツール | | |
| デプロイ方式 | | |
| 環境管理 | | |

**選択肢の例**:
- CI: GitHub Actions / GitLab CI / CircleCI
- デプロイ: 自動（マージ時）/ 手動トリガー
- 環境: Preview環境自動生成

---

## 9. 監視・ログ

| 項目 | 選定 | 選定理由 |
|------|------|---------|
| エラー監視 | | |
| ログ収集 | | |
| APM | | |
| アナリティクス | | |

**選択肢の例**:
- エラー監視: Sentry / Bugsnag
- ログ: Datadog / CloudWatch / Axiom
- APM: Datadog / New Relic
- アナリティクス: Google Analytics / Plausible / PostHog

---

## 10. 外部サービス

| 用途 | サービス | 選定理由 |
|------|---------|---------|
| メール送信 | | |
| SMS送信 | | |
| 決済 | | |
| AI/LLM | | |

**選択肢の例**:
- メール: SendGrid / Resend / AWS SES
- SMS: Twilio / AWS SNS
- 決済: Stripe / PayPal
- AI: OpenAI / Anthropic / Google AI

---

## 11. AI開発ツール

| 項目 | 選定 | 選定理由 |
|------|------|---------|
| コード生成 | | |
| コードレビュー | | |

**選択肢の例**:
- Claude Code / GitHub Copilot

---

## 技術選定の原則

このプロジェクトでの技術選定基準:

| 優先度 | 基準 | 説明 |
|-------|------|------|
| 1 | | |
| 2 | | |
| 3 | | |

**基準の例**:
- チームの習熟度
- 長期サポート・コミュニティ
- パフォーマンス要件
- コスト
- AIとの親和性（コード生成のしやすさ）

---

## 依存関係・互換性

| 組み合わせ | 確認結果 | 備考 |
|-----------|---------|------|
| フロントエンド + バックエンド | ☐ 確認済 | |
| ORM + DB | ☐ 確認済 | |
| 認証ライブラリ + フレームワーク | ☐ 確認済 | |
| ホスティング + フレームワーク | ☐ 確認済 | |

---

## 技術スタック図

```
┌─────────────────────────────────────────────────────────────┐
│                        クライアント                          │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  {フレームワーク} + {状態管理} + {スタイリング}        │   │
│  └─────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                        サーバー                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  {フレームワーク} + {認証} + {バリデーション}          │   │
│  └─────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                       データ層                              │
│  ┌──────────────────┐    ┌──────────────────┐              │
│  │  {DB} + {ORM}    │    │  {キャッシュ}     │              │
│  └──────────────────┘    └──────────────────┘              │
└─────────────────────────────────────────────────────────────┘
```

---

## 変更履歴

| 日付 | 変更内容 | 変更者 | 承認者 |
|------|---------|-------|-------|
| | 初版作成 | | |

---

## 承認

| 役割 | 名前 | 日付 | 承認 |
|------|------|------|------|
| テックリード | | | ☐ |
| プロダクトオーナー | | | ☐ |
